# 其他

1. 套餐的结算规则默认的必要条件
   > 1.套餐（发展套餐名+发展套餐别名）= 受理清单（发展套餐名） = 结算清单（发展套餐名） 2.受理理清（用户号码 + 副卡） = 结算清单（用户号码）
1. 本地数据库路径, 程序数据都存储在这里面。

```
# 其中[xueyang] = 您的windows用户名
C:\Users\[xueyang]\data-analysis\data.sqlite3
```

# 安装

1. 先删除历史遗留的 sql 文件,文件路径：

```
# 其中[xueyang] = 您的windows用户名
C:\Users\[xueyang]\data-analysis\data.sqlite3
```

也可以从`我的电脑`-> `C盘`-> `用户`-> `xueyang(你的用户名)`->`data-analysis`找到文件

2. 双击应用包直接安装，安装目录可以随意自定义。

# 关于本系统

主要功能是根据结算清单和受理清单以及套餐规则分析出未结算你的数据，包括：

1. 未结算的结算清单
2. 未结算的受理清单
3. 未结算的账期

# 操作流程

1. 导入受理清单
2. 导入结算清单（积分和普通结算）
3. 导入或者添加结算规则（套餐管理 `->` 添加规则、导入规则）

# 页面介绍

账期、受理清单、结算清单、积分清单页面均可根据不同的条件到处需要的数据。

## 结算分析

##### 账期结算

根据月份统计出所有账期结算数据

> 总计： 结算弄清单和积分清单的结算信息
> 已结算： 账期中已经结算的数据
> 未结算: 账期中未结算的数据
> 操作： 下载未结算你的清单，该操作会下载当月未结算的账期对应的受理清单。

##### 结算清单

统计出已关联套餐的结算清单的结算数据，根据清单月份分组。

##### 积分清单

同 结算清单

##### 结算分析

这里主要为导入接口，最初版本写在这里后因为代码量有点多后期版本就懒得移了。

## 账期

账期是根据结算清单和受理清单以及套餐规则生成的对应周期的结算信息，主要用来记录受理清单和结算清单的结算数据。

账期可以根据多个条件筛选出所需要的账期
其次可以使用导出查询结果导出上面条件晒算的账期数据，如果没有筛选条件则会导出所有账期。

## 受理清单

显示以导入的所有受理清单
同 账期

## 结算清单

显示以导入的所有结算清单
同 账期

## 积分清单

显示以导入的所有积分清单
同 账期

## 套餐管理

套餐是由受理清单的发展套餐和发展套餐结算规则，和结算清单（积分清单）结算规则所组成。

#### 添加规则

套餐结算类型： 积分结算和普通结算。只能选择其中一个，如果两种都需要结算则需要再添加一条规则。

是否关联副卡： 关联副卡后结算清单的业务号码会匹配**关联副卡**中的号码。

发展套餐名：套餐的名称。
默认规则中受理清单的发展套餐名和结算清单的套餐名称相同，所以请务必保证套餐名称正确。

发展套餐别名： 发展套餐名的其他名字。可以有多个别名，每个别名使用回车隔开。

结算次数： 套餐需要结算的次数

结算规律： 从受理清单竣工起，每结算一次的周期。周期单位为月。多个周期用都好隔开。

账期条件： 生成账期的条件，根据受理清单一些字段来生成账期。

结算条件： 结算账期的条件，根据结算清单（积分清单）是否满足该条件来结算该账期
。
备注： 备注

导入规则： 导入规则 Excel。详见案例

删除全部套餐： 删除当前已添加的全部套餐

导出未结算的数据： 该链接会导出该结算套餐对应的未结算的受理清单和结算清单

## 关联副卡

所有副卡都保存在里面。
